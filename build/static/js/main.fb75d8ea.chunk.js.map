{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/personService.js","App.js","index.js"],"names":["Filter","props","value","onChange","PersonForm","onSubmit","nameValue","nameOnChange","numberValue","numberOnChange","type","Person","person","handleDelete","name","number","onClick","id","Persons","persons","filteredName","filter","toLowerCase","includes","map","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilteredName","message","infoMessage","setInfoMessage","useEffect","personService","initialPersons","className","event","console","log","target","preventDefault","some","p","window","confirm","find","newPerson","returnedPerson","setTimeout","catch","error","n","concat","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fb75d8ea.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    \r\n    return (\r\n        <div>filter <input\r\n        value={props.value}\r\n        onChange={props.onChange}\r\n      />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.onSubmit}>\r\n        <div>name: <input\r\n          value={props.nameValue}\r\n          onChange={props.nameOnChange}\r\n        />\r\n        </div>\r\n        <div>number: <input\r\n          value={props.numberValue}\r\n          onChange={props.numberOnChange}\r\n        />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n\r\n    return (\r\n        <>{person.name} {person.number} <button onClick={handleDelete(person.id)}>delete</button><br></br></>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, filteredName, handleDelete}) => {\r\n    return (\r\n        persons.filter(person => person.name.toLowerCase().includes(filteredName.toLowerCase())).map(person =>\r\n            <Person\r\n                key={person.name}\r\n                person={person}\r\n                handleDelete={handleDelete}\r\n            />\r\n        )\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    deletePerson\r\n}","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/personService'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filteredName, setFilteredName] = useState('')\r\n  const [infoMessage, setInfoMessage] = useState({ message: null, type: null })\r\n\r\n  // InfoMessage\r\n  const Notification = ({ message, type }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <div className={type}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Get persons from db\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => setPersons(initialPersons))\r\n\r\n  }, [])\r\n\r\n  // Handle adding of persons to state and db\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const nameExists = persons.some(p => (p.name === newName))\r\n    if (nameExists) {\r\n      const confirmation = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\r\n      if (confirmation) {\r\n        const person = persons.find(p => p.name === newName)\r\n        const newPerson = { ...person, number: newNumber }\r\n        personService\r\n          .update(person.id, newPerson)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\r\n            setInfoMessage(\r\n              {\r\n                message: `Replaced the number of '${person.name}'`,\r\n                type: 'success'\r\n              }\r\n            )\r\n            setTimeout(() => {\r\n              setInfoMessage({ message: null, type: null })\r\n            }, 5000)\r\n          })\r\n          .catch(error => {\r\n            setInfoMessage(\r\n              {\r\n                message: `Information of '${person.name}' has already been removed from the server`,\r\n                type: 'error'\r\n              }\r\n            )\r\n            setTimeout(() => {\r\n              setInfoMessage({ message: null, type: null })\r\n            }, 5000)\r\n            setPersons(persons.filter(n => n.id !== person.id))\r\n          })\r\n      }\r\n    } else {\r\n      const person = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n\r\n      personService\r\n        .create(person)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setInfoMessage(\r\n            {\r\n              message: `Added '${person.name}'`,\r\n              type: 'success'\r\n            }\r\n          )\r\n          setTimeout(() => {\r\n            setInfoMessage({ message: null, type: null })\r\n          }, 5000)\r\n        }\r\n        )\r\n    }\r\n\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const deletePerson = (id) => {\r\n    const person = persons.find(p => p.id === id)\r\n    personService\r\n      .deletePerson(id)\r\n      .then(\r\n        setPersons(persons.filter(person => person.id !== id)),\r\n        setInfoMessage(\r\n          {\r\n            message: `Deleted '${person.name}'`,\r\n            type: 'success'\r\n          }\r\n        ),\r\n        setTimeout(() => {\r\n          setInfoMessage({ message: null, type: null })\r\n        }, 5000))\r\n      .catch(error => {\r\n        setInfoMessage(\r\n          {\r\n            message: `Information of '${person.name}' has already been removed from the server`,\r\n            type: 'error'\r\n          }\r\n        )\r\n        setTimeout(() => {\r\n          setInfoMessage({ message: null, type: null })\r\n        }, 5000)\r\n        setPersons(persons.filter(n => n.id !== person.id))\r\n      })\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleFilterChange = (event) => {\r\n    console.log(event.target.value)\r\n    setFilteredName(event.target.value)\r\n  }\r\n  const handleDelete = (id) => {\r\n    return () => {\r\n      const name = persons.filter(person => person.id === id)[0].name\r\n      const confirmation = window.confirm(`Delete ${name} ?`)\r\n      if (confirmation) {\r\n        deletePerson(id)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={infoMessage.message} type={infoMessage.type} />\r\n      <h2>Phonebook</h2>\r\n      <Filter value={filteredName} onChange={handleFilterChange} />\r\n      <h2>Add new</h2>\r\n      <PersonForm\r\n        onSubmit={addPerson}\r\n        nameValue={newName}\r\n        nameOnChange={handleNameChange}\r\n        numberValue={newNumber}\r\n        numberOnChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} filteredName={filteredName} handleDelete={handleDelete} />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}